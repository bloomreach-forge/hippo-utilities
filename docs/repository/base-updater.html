<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 24 Feb 2017
 | Rendered using Hippo Forge Maven Skin 1.04.00 based on Apache Maven Fluido Skin
-->
<!--[if lt IE 7]><html id="ie6" xmlns="http://www.w3.org/1999/xhtml"  xml:lang="en" lang="en"><![endif]-->
<!--[if IE 7]><html id="ie7" xmlns="http://www.w3.org/1999/xhtml"  xml:lang="en" lang="en"><![endif]-->
<!--[if IE 8]><html id="ie8" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><![endif]-->
<!--[if IE 9]><html id="ie9" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><![endif]-->
<!--[if !IE]>--><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><!--<![endif]-->

<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
                    <meta name="Date-Revision-yyyymmdd" content="20170224"/>
                <meta http-equiv="Content-Language" content="en"/>
        <title>Hippo Forge Utilities plugin - 
    Hippo Utilities Repository - Base Updater Module</title>
    <link rel="stylesheet" href="../css/forge-maven-skin-syntaxhighlighter-1.04.00.min.css"/>
    <link rel="stylesheet" href="../css/forge-maven-skin-1.04.00.min.css"/>
    <link rel="stylesheet" href="../css/site.css"/>
    <link rel="stylesheet" href="../css/print.css" media="print"/>

        
    <script type="text/javascript" src="../js/forge-maven-skin-syntaxhighlighter-1.04.00.min.js"></script>
    <script type="text/javascript" src="../js/forge-maven-skin-1.04.00.min.js"></script>

    
            </head>
    <body>

        
    
    
    <div class="container-fluid">
        <div class="row-fluid">
            <div id="header">
                <div id="logo">
                    <a href="http://www.onehippo.com">
                        <img src="../images/hipposkin/hippo-logo.png" alt="Hippo Logo" />
                    </a>
                </div>

                <h1>
                                            Hippo Forge Utilities plugin
                    
                </h1>
                <div class="clearfix"></div>
            </div>
        </div>

        <div class="row-fluid">
            <div id="breadcrumbs" class="clearfix">
                <ul class="breadcrumb">
                                
                                        
                            <li id="publishDate">Last Published: 24 Feb 2017</li>
                                                                                                                                                </ul>

                <div class="links">
                    <a href="https://www.onehippo.com">Onehippo.com</a>
                    <a href="https://www.onehippo.org">Onehippo.org</a>
                </div>
            </div>
        </div>



            
    <div class="row-fluid">
        <div id="leftColumn" class="span3">
            <div class="well sidebar-nav">
                <ul class="nav nav-list">
                                        <li class="nav-header">Home</li>
                                                           
        <li>
    
                                                <a href="../index.html" title="Home">
                    <i class="none"></i>
                Home</a>
                    </li>
                               
        <li>
    
                                                <a href="../release-notes.html" title="Release Notes">
                    <i class="none"></i>
                Release Notes</a>
                    </li>
                               
        <li>
    
                                                <a href="../install.html" title="Installation">
                    <i class="none"></i>
                Installation</a>
                    </li>
                                                            <li class="nav-header">Commons module</li>
                                                           
        <li>
    
                                                <a href="../commons/annotationutil.html" title="Annotation Utility">
                    <i class="none"></i>
                Annotation Utility</a>
                    </li>
                               
        <li>
    
                                                <a href="../commons/genericsutil.html" title="Generics Utility">
                    <i class="none"></i>
                Generics Utility</a>
                    </li>
                               
        <li>
    
                                                <a href="../commons/hippoutil.html" title="Hippo Utility">
                    <i class="none"></i>
                Hippo Utility</a>
                    </li>
                               
        <li>
    
                                                <a href="../commons/repositoryutil.html" title="Repository Utility">
                    <i class="none"></i>
                Repository Utility</a>
                    </li>
                               
        <li>
    
                                                <a href="../commons/nodeutil.html" title="Node Utility">
                    <i class="none"></i>
                Node Utility</a>
                    </li>
                               
        <li>
    
                                                <a href="../commons/ftpclient.html" title="FTP Client">
                    <i class="none"></i>
                FTP Client</a>
                    </li>
                               
        <li>
    
                                                <a href="../commons/jcrmockup.html" title="JCR Mockup">
                    <i class="none"></i>
                JCR Mockup</a>
                    </li>
                                                            <li class="nav-header">HST module</li>
                                                           
        <li>
    
                                                <a href="../hst/computil.html" title="CompUtil">
                    <i class="none"></i>
                CompUtil</a>
                    </li>
                               
        <li>
    
                                                <a href="../hst/components.html" title="Components">
                    <i class="none"></i>
                Components</a>
                    </li>
                               
        <li>
    
                                                <a href="../hst/cookie.html" title="Cookie Check">
                    <i class="none"></i>
                Cookie Check</a>
                    </li>
                               
        <li>
    
                                                <a href="../hst/paging.html" title="Paging">
                    <i class="none"></i>
                Paging</a>
                    </li>
                               
        <li>
    
                                                <a href="../hst/xmlstripper.html" title="XMLStripper">
                    <i class="none"></i>
                XMLStripper</a>
                    </li>
                                                            <li class="nav-header">Repository module</li>
                                                           
        <li class="active">
    
                        <a href="#"><i class="none"></i>Base Updater Module</a>
                </li>
                               
        <li>
    
                                                <a href="../repository/annotation-updater.html" title="Annotation Base Updater Module">
                    <i class="none"></i>
                Annotation Base Updater Module</a>
                    </li>
                                                            <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
        <li>
    
                                                <a href="../project-info.html" title="Project Information">
                    <i class="icon-chevron-right"></i>
                Project Information</a>
                                </li>
                                                                                                                                                                                                           
        <li>
    
                                                <a href="../project-reports.html" title="Project Reports">
                    <i class="icon-chevron-right"></i>
                Project Reports</a>
                                </li>
                        </ul>

                
                <hr class="divider"/>

                <div id="poweredBy">
                                            <div class="clear"></div>
                                            <div class="clear"></div>
                                            <div class="clear"></div>
                                                <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
            <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png"/>
        </a>
                            </div>
            </div>
        </div>
    
        
        <div id="bodyColumn"  class="span9" >
                                
            <!-- Copyright 2012-2013 Hippo B.V. (http://www.onehippo.com)

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. -->
  
    <p style="color:red">
      <b>Updater modules have been deprecated in the repository, use
        <a class="externalLink" href="http://www.onehippo.org/library/concepts/update/using-the-updater-editor.html">Updater scripts</a>
        instead.
      </b>
    </p>
    
<div class="section">
<h2>Base Updater Module<a name="Base_Updater_Module"></a></h2>
      
<div class="section">
<h3>BaseUpdater implements UpdaterModule<a name="BaseUpdater_implements_UpdaterModule"></a></h3>
        
<p>The BaseUpdater visits:<br />
          /hippo:configuration/hippo:namespaces<br />
          /hippo:configuration/hippo:initialize<br />
          /hst:configuration/hst:configuration<br />
          /content/documents
        </p>
        
<p>
          It provides protected methods to implement changes on above visitors.
        </p>
        
<p>
          It provides a protected method to register the tag values.
        </p>
        
<p>
          It provides a protected methods to change properties documents from the properties plugin.
        </p>
        
<div class="source"><pre class="prettyprint linenums">
    protected abstract void registerTags(UpdaterContext context)
    protected abstract String getProjectNS()
    protected final String getProjectPrefix()

    protected void removeSubNode(Node node, String name)
    protected void removeProperty(Node node, String property)
    protected String getProperty(Node node, String property)
    protected String getUUID(Node node)

    protected void updateNamespaceNode(Node node)
    protected void updateInitializeNode(Node node)
    protected void updateHSTPages(Node pagesNode)
    protected void updateHSTComponents(Node componentsNode)
    protected void updateHSTSitemapItems(Node sitemapNode)
    protected void updateHSTTemplates(Node templatesNode)
    protected void updateHSTSitemenus(Node menusNode)
    protected void updateDocuments(Node node)

    protected Node setHSTPage(Node node, String name, String referenceComponent, String template)
    protected Node setHSTTemplate(Node node, String name, String renderPath)
    protected Node setHSTComponent(Node node, String name, String componentClassName,
                      String template, String[] parameterNames, String[] parameterValues)
    protected Node setHSTSitemapItem(Node node, String name, String componentConfigurationId,
                      String relContentPath)
    protected Node setHSTSitemenu(Node node, String name)
    protected Node setHSTSitemenuItem(Node node, String name, String referenceSitemapItem)
    protected void setHSTParameterNamesValues(Node node,

    protected void setPropertyNode(Node propertiesDoc, String propName, String propValue)
    protected void removePropertyNode(Node propertiesDoc, String propName)

    protected Node getFolder(Node node, String folderName)
    protected Node createFolder(Node node, String folderName)
    protected Node createFolder(Node node, String folderName, String[] folderTypes)
    protected String[] getDefaultFolderTypes()

    protected void handleException(Exception exception, Node node, String name)
        </pre></div>
      </div>
      
<div class="section">
<h3>BaseCndUpdater extends BaseUpdater<a name="BaseCndUpdater_extends_BaseUpdater"></a></h3>
        
<p>The BaseCndUpdater is to be used when a new project cnd has to be loaded. It:<br />
          Reloads a projects cnd with a NamespaceVisitor<br />
          Visits all document and compound types and set it's new namespace and<br />
          Removes common initialize items for reloading doc type config
        </p>
        
<div class="source"><pre class="prettyprint linenums">
    protected abstract String getProjectCND();
    protected abstract String getNewProjectNS();
    protected final String getNewProjectPrefix() {

    protected void updateNamespaceNode(Node node)
    protected void updateInitializeNode(Node node)

    protected void renewStringProperty(Node node, String propertyName)
    protected void renewStringProperties(Node node, String propertyName)
    protected void renewDateProperty(Node node, String propertyName)
    protected void renewBooleanProperty(Node node, String propertyName)
    protected void renewSubnode(final UpdaterContext context, Node node, String subNodeName)
    protected void renewSubnodes(final UpdaterContext context, Node node, String subNodeName)

        </pre></div>
      </div>
        
<div class="section">
<h3>References<a name="References"></a></h3>
            
<ul>
                
<li><a class="externalLink" href="http://blog.jeroenreijn.com/2010/06/introduction-to-hippo-cms-7-updater.html">An introduction to Hippo CMS 7 updater modules</a></li>
            </ul>
        </div>
    </div>
  

            </div>
        </div>
    </div>

    <hr/>

    <footer>
                <div class="container-fluid">
                <div class="row span12">Copyright &copy;                                                2011-2017
                                            <a href="http://www.onehippo.com/">Hippo B.V. (http://www.onehippo.com)</a>.
                        All Rights Reserved.            
                                        
            </div>

        
        
                </div>
    </footer>
</body>
</html>
